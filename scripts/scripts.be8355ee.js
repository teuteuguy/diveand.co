"use strict";var app=angular.module("diveandcoApp",["ngMaterial","ui.router","uiGmapgoogle-maps"]);app.config(["$mdThemingProvider","$mdIconProvider",function(a,b){b.defaultIconSet("./images/icons/avatars.svg",128).icon("menu","./images/icons/menu.svg",24),a.theme("default").primaryPalette("light-blue").accentPalette("red")}]),app.config(["uiGmapGoogleMapApiProvider",function(a){a.configure({key:"AIzaSyBTflAWAg7irIzzACpc1gdn2rfLzIJ2s8E",v:"3.19",libraries:"weather,geometry,visualization,places"})}]),app.config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/map"),a.state("map",{url:"/map",templateUrl:"views/map/map.html",controller:"MapCtrl as MapCtrl"}).state("about",{url:"/about",template:"<div layout-padding>Welcome to Dive and Co.<br/>Your friendly diving social network.</div>",controller:["pageTitle",function(a){a.title="About"}]})}]),angular.module("diveandcoApp").controller("MainCtrl",["$log","$mdSidenav","$state","pageTitle","menuService",function(a,b,c,d,e){function f(){b("left").toggle()}function g(a){h.selected=angular.isNumber(a)?h.menuItems[a]:a,h.toggleList(),c.go(a.go)}var h=this,i="MainCtrl:";a.debug(i,"load"),h.selected=null,h.menuItems=[],h.selectMenuItem=g,h.toggleList=f,h.pageTitle=d,e.loadMenuItems().then(function(a){h.menuItems=[].concat(a),h.selected=a[0]})}]),angular.module("diveandcoApp").controller("MapCtrl",["$window","$scope","$log","$mdBottomSheet","uiGmapGoogleMapApi","uiGmapIsReady","mapStyleApple","pageTitle",function(a,b,c,d,e,f,g,h){function i(a){c.debug(j,"bottomActions clicked!"),d.show({parent:angular.element(document.getElementById("content")),templateUrl:"/views/map/mapBottomActions.html",controller:"MapBottomActionsCtrl",controllerAs:"mba",bindToController:!0,targetEvent:a}).then(function(a){c.debug(j,a.name+" clicked!")})}var j="MapCtrl:";c.debug(j,"load"),h.title="Map";var k=this;k.searchbox={template:"views/map/mapSearchBox.html",events:{place_changed:function(a){var b=a.getPlace();if("undefined"==typeof b.address_components);else{var c=b.geometry.location;k.map.center={latitude:c.lat(),longitude:c.lng()}}}},options:{autocomplete:!0}},e.then(function(a){c.debug(j,"in uiGmapGoogleMapApi.then"),k.map={center:{latitude:1.348842,longitude:103.8172953},zoom:11,options:{styles:g,disableDefaultUI:!0},events:{tilesloaded:function(a){k.actualMapObject=a,k.PlacesService=new google.maps.places.PlacesService(a)}}},k.googleMapsObject=a}),k.bottomActions=i}]).directive("angularGoogleMapContainer",["$window","$timeout","$log",function(a,b,c){return{restrict:"C",link:function(b,c,d){function e(){c.css("height",a.innerHeight-64+"px")}e(),a.addEventListener("resize",e),b.$on("$destroy",function(){a.removeEventListener("resize",e)})}}}]).directive("searchBox",["$log",function(a){return{restrict:"A",link:function(b,c,d){a.debug("searchBox: load")}}}]),angular.module("diveandcoApp").controller("MapBottomActionsCtrl",["$log","$mdBottomSheet",function(a,b){var c="MapBottomActionsCtrl:";a.debug(c,"load")}]),angular.module("diveandcoApp").constant("mapStyleApple",[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffe15f"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"black"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}]),angular.module("diveandcoApp").factory("pageTitle",function(){var a={title:""};return a}),angular.module("diveandcoApp").service("menuService",["$q",function(a){var b=[{name:"Map",avatar:"svg-1",go:"map"},{name:"About",avatar:"svg-2",go:"about"}];return{loadMenuItems:function(){return a.when(b)}}}]);